{% extends 'base.html.twig' %}
{% block stylesheets %}
    <style type="text/css">
        input,.btn, i.fa, #sidebar, option, .actionsColumn, ul, ul li, #dataActions, .lou {display:none; !important}
        table {border: 1px solid black; !important}
        td {border: 1px solid black; !important}
        a {color: black;}
    </style>
{% endblock %}
{% block body %}
    <h2>Lista ocen</h2>

    <table id="datatbl" class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Uczeń</th>
                <th>Klasa</th>
                <th>Przedmiot</th>
                <th>Ocena</th>
                <th class="actionsColumn">Akcje</th>
            </tr>
        </thead>
        <tbody>
        {% for grade in grades %}
        {% for student in students %}
        {% set studentdata %}{{ student.surname }} {{ student.name }}{% endset %}
        {% set gradedata %}{{ grade.idstudent }}{% endset %}
        {% if studentdata == gradedata %}
            <tr>
                <td><a href="{{ path('grade_show', { 'id': grade.idgrade }) }}">{{ grade.idstudent }}</a></td>
                <td>{{ student.idschoolclass }}</td>
                <td>{{ grade.idsubject }}</td>
                <td>{{ grade.grade }}</td>
                <td class="actionsColumn">
                    <ul>
                        <li>
                            <a href="{{ path('grade_show', { 'id': grade.idgrade }) }}">Szczegóły</a>
                        </li>
                        <li>
                            <a href="{{ path('grade_edit', { 'id': grade.idgrade }) }}">Edytuj</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endif %}
        {% endfor %}
        {% endfor %}
        </tbody>
    </table>

    <ul id="dataActions">
        <li>
            <a href="{{ path('grade_new') }}"  class="btn btn-default">Dodaj nową ocenę</a>
        </li>
    </ul>
{% endblock %}
